# 우테코6 - 4주차 🎄크리스마스

## 기능 구현 목록

### 입력값

- [x] 입력 시 공백 제거하기

### 입력값 오류

- 오류 출력 시 , "[ERROR]"로 시작
- <span id="error">입력값에 오류</span>시 다음을 순서대로 진행
  - [x] throw 문으로 예외 발생
  - [x]"[ERROR]"로 시작하는 에러 메시지 출력
  - [x] 해당 부분부터 입력을 다시 받음

### 예약 방문일

- [x]예약 방문일 받기
- [x]예약 방문일에 대한 유효성 검사
  - 검사 항목
    - 방문 일은 "1이상 31이하"의 "숫자"
      - 타입: NaN이 아닌 숫자
      - 숫자 범위 :1~31
    - 입력값 오류에 대한 진행은 <a href="#error">"입력값 오류"</a> 참고
  - 에러 메세지 : "[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요." -[x] 예약 방문일자에 따른 문구 출력
    ex: 방문일자가 3일 일때
    "12월 3일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!"

### 메뉴

- [x] 주문 메뉴 받기
- [x] 주문 메뉴에 대한 유효성 검사
  - 검사 항목
    - 메뉴판에 있는 메뉴여야 함
    - 메뉴의 개수는 1개 이상
    - 메뉴 형식이 "메뉴-개수" 형태여야 함
    - ","로 메뉴를 구분해야함
      -> 메뉴형식,","은 입력값은 ","을 기준으로 배열로 변형하고 요소에 대한 졍규표현식 검사를 통해서 같이 확인 할 수 있음
    - 메뉴를 중복해 입력할 수 없음
    - 음료만 주문 할 수 없음
    - 메뉴는 한번에 최대 20개까지만 주문 가능
  - 입력값 오류에 대한 진행은 <a href="#error">"입력값 오류"</a> 참고
  - 오류 메세지: "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."
- [x] 주문 메뉴 출력

### 이벤트

#### 이벤트 적용 대상

- [x] 이벤트 적용 대상이여야만, 이벤트가 적용된다.
  - 이벤트 적용 대상 :총 주문 금액이 10,000원 이상

#### 이벤트 혜택 내역 출력

- [x] 고객에게 적용된 이벤트 내역만 출력 -[X] 적용된 이벤트가 하나도 없을 시 : "없음" 출력

```
<혜택 내역>
없음
```

- [x] 적용된 이벤트가 있을 때 :출력 방식
  - <이벤트명>:-<할인금액>원
  ```
  <혜택 내역>
  크리스마스 디데이 할인: -1,200원
  평일 할인: -4,046원
  특별 할인: -1,000원
  증정 이벤트: -25,000원
  ```

#### 증정

- [x] 총 혜택 금액 증정 여부 판단
  - 증정 대상: 할인 전 총 주문 금액이 12만원 이상
  - 증정품 : 삼페인 1개
- [x] 증정 여부 출력
  - 증정 시 :"샴페인 1개"
  - 증정 없을 때 :"없음"

#### 크리스마스 디데이 이벤트

- [x] 이벤트 적용 여부 판단
  - 이벤트 기간: 2023.12.1~2023.12.25
- [x] 할인 금액 계산
  - 할인 금액 : 1000 + 100\*(날짜-1)

#### 평일 할인

- [x] 이벤트 적용 여부 판단
  - 이벤트 기간: 23.12.1~23.12.31 중, 일요일~목요일 적용
  - 할인 대상 : 디저트 메뉴
- [x] 할인 금액 계산
  - 할인 금액: 디저트 메뉴 개수 \* 2023원

#### 주말 할인

- [x] 이벤트 적용 여부 판단
  - 이벤트 기간: 23.12.1~23.12.31 중, 금요일,토요일 적용
  - 할인 대상 : 메인 메뉴
- [x] 할인 금액 계산
  - 할인 금액: 메인 메뉴 개수 \* 2023원

#### 특별 할인

- [x] 이벤트 적용 여부 판단
  - 이벤트 기간: 23.12.1~23.12.31 중 3,10,17,24,25,31일 (달력에 별있는 날짜)
- [x] 할인 금액 계산
  - 할인 금액 : 1000원

### 12월 이벤트 배지

-[x] 이벤트 배지 부여 판단

- 이벤트 배지는 총혜택 금액에 따라 부여되므로 이벤트 적용 대상이 아니면 배지도 부여되지 않음
- 총 혜택 금액에 따른 배지 부여 - 총 혜택 금액 >= 5000원 : 별 - 총 혜택 금액 >= 10000원 : 트리 - 총 혜택 금액 >= 20000원 :산타 -[x] 부여된 이벤트 배지 출력
- 없을 경우 "없음"출력

### 금액

- [x] 할인 전 총 주문 금액 계산 및 출력
- [x] 총 혜택 금액 계산 및 출력
  - 총 혜택 금액 =할인 금액의 합계 + 증정 메뉴의 가격
- [x] 할인 후 예상 결제 금액 계산 및 출력 :할인 후 예상 결제 금액 = 할인 전 총주문 금액 - 할인 금액

## 테스트

-[] jest를 이용해 정리한 기능 목록이 정상 동작함을 테스트 코드로 구현

-[] 도메인 로직에 대한 단위 테스트 구현 (UI로직에 대한 단위 테스트 제외)

### 추가할 테스트

#### 예약 방문일에 대한 유효성 검사

- [x] 날짜 예외 테스트 추가

#### 주문 메뉴에 대한 유효성 검사

- [x] 주문 예외 테스트 상세하게
  - [x] 메뉴판에 있는 메뉴여야 함
  - [x] 하나의 메뉴에 대해 주문할 수 있는 개수는 1개 이상 20개 이하
  - [x] 메뉴 형식이 "메뉴-개수" 형태여야 함
  - [x] ","로 메뉴를 구분해야함
  - [x] 메뉴를 중복해 입력할 수 없음
  - [x] 음료만 주문 할 수 없음
  - [x] 메뉴는 한번에 최대 20개까지만 주문 가능

#### 할인 전 총 주문 금액 계산

- [x] 계산 테스트

#### 증정 여부 판단

- [x] 증정 이벤트 대상이 아닐 경우, 증정품 없음
- [x] 증정 이벤트 대상이 경우, 샴페인 1개 증정

#### 이벤트 적용 여부 및 할인 금액

- [x] 할인 전 총 주문 금액 미달로 인한 이벤트 적용 예외 테스트
- [x] 크리스마스 디데이 할인
  - [x] 적용 대상
  - [x] 할인 금액
- [x] 평일 할인
  - [x] 적용 대상
  - [x] 할인 금액
- [x] 주말 할인
  - [x] 적용 대상
  - [x] 할인 금액
- [x] 특별 할인
  - [x] 적용 대상
  - [x] 할인 금액

#### 총 혜택 금액, 할인 후 예상 결제 금액 계산

-[] 총 혜택 금액
-[] 할인 후 예상 결제 금액

#### 이벤트 배지 부여 판단

-[] 이벤트 배지 부여 여부 판단
-[] 총혜택 금액에 따른 배지 부여

## 도메인 로직과 UI로직

### 도메인 로직

- 예약 방문일에 대한 유효성 검사
- 주문 메뉴에 대한 유효성 검사
- 할인 전 총 주문 금액 계산
- 증정 여부 판단
- 이벤트 적용 여부 판단
- 이벤트 마다 할인 금액, 총 혜택 금액, 할인 후 예상 결제 금액 계산
- 이벤트 배지 부여 판단

### UI 로직

- 예약 방문일 입력값 받기
- 예약 방문일자에 따른 혜택 미리보기 문구 출력
  ex: 방문일자가 3일 일때
  "12월 3일에 우테코 식당에서 받을 이벤트 혜택 미리 보기!"
- 주문 메뉴 받기
- 주문 메뉴 출력
- 총 주문 금액 출력
- 증정 여부 출력 (없으면 "없음", 증정 시 증정 물품 가격으로)
- 이벤트 혜택 내역, 총 혜택 금액 ,할인 후 예상 결제 금액 출력 (이벤트 혜택 없으면 "없음")
- 적용되는 이벤트 배지 출력 (없으면 "없음")
